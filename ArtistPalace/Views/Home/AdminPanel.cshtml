@model List<SuggestArtists>
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor ContextAccessor

<link rel="stylesheet" href="~/table.css" />
<link rel="stylesheet" href="~/index.css" />
<link rel="stylesheet" href="~/flag-icon.css" />
<link rel="stylesheet" href="~/flag-icon.min.css" />
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<script src="~/index.js" asp-append-version="true"></script>

<div id="navbar">
    <a href="/home/index"><button id="add-artist-button"><span class="material-icons">arrow_back</span> Home</button></a>
    <a href="/home/adminpanel"><button id="add-artist-button"><span class="material-icons">admin_panel_settings</span> Admin Panel</button></a>
    <a href="/home/artists"><button id="add-artist-button"><span class="material-icons">people</span> Artists List</button></a>
</div>

<div class="center-this-div">
    <p>Welcome <strong>@ContextAccessor.HttpContext.User.Claims.First().Value</strong> to Admin Panel :)</p>
</div>

<div id="artists-table-container">
    <table>
        <tr>
            <th class="fill-th-small"><span class="material-icons">account_box</span></th>
            <th class="fill-th">Tag</th>
            <th class="fill-th">Type</th>
            <th class="fill-th">Commissions</th>
            <th class="fill-th">Price</th>
            <th ><span class="material-icons">manage_accounts</span></th>
        </tr>
        @foreach (var artist in Model)
        {
            <tr>
                <td><a href="https://twitter.com/@artist.TwitterTag"><img class="artist-avatar" src="//avatars.charlyx.dev/twitter?username=@artist.TwitterTag"></a></td>
                <td>@@@artist.TwitterTag</td>
                <td class="center-this">@artist.Type</td>
                @if (artist.AcceptCommissions == true)
                {
                    <td class="center-this">Accept</td>
                }
                else
                {
                    <td class="center-this">Reject</td>
                }
                @if (artist.PricePerHour != null)
                {
                    <td class="center-this">@artist.PricePerHour$ per/h</td>
                }
                else
                {
                    <td class="center-this">No</td>
                }
                <td>
                    <div class="buttons">
                        <form>
                            <button class="flat-button" style="width: 50px">Add</button>
                        </form>
                        <br>
                        <form>
                            <button class="decline-button" style="width: 50px">Del</button>
                        </form>
                    </div>
                </td>
            </tr>
        }
    </table>
</div>